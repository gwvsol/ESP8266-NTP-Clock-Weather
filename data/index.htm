<!DOCTYPE html>
<html lang="ru">
 <head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" href="/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="/style.css">
  <script type="text/javascript" src="/function.js"></script>
  <script type="text/javascript" src="/function1.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Интернет-часы</title>
  <!--<script type="text/javascript">
  </script>-->
 </head>
 <body onload="load();">
  <div class="container">
   <div class="row" style="text-align:center;">
    <h2 style="margin:50px;">Интернет-часы</h2>
    <div class="col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6">
     <h5 class="alert-info" id="ssdp_t">{{SSDP}}</h5><br><h5 class="alert-info" id="ip_t">{{ip}}</h5>
     <!--<a class="btn btn-block btn-danger" href="/">Страница устройств</a>
     <a class="btn btn-block btn-default" href="/device.htm">Страница управления</a>-->
     <h4>На устройстве сейчас</h4><strong id="time">{{time}}</strong><br>Date: <strong id="date">{{date}}</strong>
     <input class="btn btn-block btn-primary" value="Синхронизировать время" onclick="load_time(this);" type="submit">
<!--1
	 <hr>
     <h3>Временная зона GMT</h3>
     <input id="timezone" value="{{timezone}}" pattern="[0-9]{1,3}" class="form-control">
     <input class="btn btn-block btn-success" value="Сохранить" onclick="time_zone(this);" type="submit">
     <input class="btn btn-block btn-primary" value="Авто определение и сохранение зоны" onclick="set_time_zone(this);" type="submit">
     <hr>
     <h3>NTP сервер</h3>
     <input id="ntpserver" value="{{ntpserver}}" pattern="[0-9a-zA-Z.-]{1,500}" class="form-control" placeholder="us.pool.ntp.org">
     <input class="btn btn-block btn-success" value="Сохранить" onclick="set_ntp_server(this);" type="submit">
     <hr>	 	 
     <h3>Установка времени</h3>
     <div class="row">
      <div class="col-sm-6">
		<input id="time_h" value="{{time_h}}" pattern="[0-9]{1,3}" class="form-control">
		<input id="time_m" value="{{time_m}}" pattern="[0-9]{1,3}" class="form-control">
		<input id="time_s" value="{{time_s}}" pattern="[0-9]{1,3}" class="form-control">
		<input class="btn btn-block btn-success" value="Установить" onclick="set_new_time(this,'Если включена синхонизация с NTP, она будет отключена. Установить время?');" type="submit">
      </div>
      <div class="col-sm-6">
       <div class="alert alert-dismissible alert-warning">Здесь вы можете установить время или </div>
	   <input type="checkbox" id="use_sync" value="{{use_sync}}" class="form-control" onchange="set_ntp(this);" {{use_sync}}>включить синхронизацию с NTP
      </div>
     </div>	
1-->	 
	 <hr>
     <h3>Будильники</h3>
     <div class="row">
      <div class="col-sm-6">
		<input id="alarm1_h" value="{{alarm1_h}}" pattern="[0-9]{1,3}" class="form-control">
		<input id="alarm1_m" value="{{alarm1_m}}" pattern="[0-9]{1,3}" class="form-control">
		<input class="btn btn-block btn-success" value="Установить" onclick="set_alarm1(this);" type="submit">
		<input type="checkbox" id="use_alarm1" value="{{use_alarm1}}" class="form-control" onchange="on_alarm1(this);" {{use_alarm1}}>Включить
      </div>
      <div class="col-sm-6">
		<input id="alarm2_h" value="{{alarm2_h}}" pattern="[0-9]{1,3}" class="form-control">
		<input id="alarm2_m" value="{{alarm2_m}}" pattern="[0-9]{1,3}" class="form-control">
		<input class="btn btn-block btn-success" value="Установить" onclick="set_alarm2(this);" type="submit">
		<input type="checkbox" id="use_alarm2" value="{{use_alarm2}}" class="form-control" onchange="on_alarm2(this);" {{use_alarm2}}>Включить
      </div>
     </div>	
	 <hr>		 
	 <h3>Показ произвольного текста (бегущая строка)</h3>
     <!--<input id="text1" value="{{text1}}" class="form-control" pattern="[0-9a-zA-Zа-яА-Я.!,\w ]{1,500}" placeholder="Введите текст">-->
	 <input id="text1" value="{{text1}}" class="form-control" pattern=".{1,500}" placeholder="Введите текст">
     <input class="btn btn-block btn-success" value="Сохранить" onclick="set_text1(this);" type="submit">
     <hr>
     <div class="row">
      <div class="col-sm-6">
		<!--<input id="bright" value="{{bright}}" pattern="[0-9]{1,2}" class="form-control">-->
		<label><input id="bright"  type="range" value="{{bright}}" min="1" max="15" class="form-control"></label>
		<input class="btn btn-block btn-success" value="Установить" onclick="set_bright(this);" type="submit">
      </div>
      <div class="col-sm-6">
       <div class="alert alert-dismissible alert-warning">Установка яркости</div>
      </div>
     </div>	
	 <hr>
     <div class="row">
      <div class="col-sm-6">
		<label><input id="speed_d"  type="range" value="{{speed_d}}" min="10" max="200" class="form-control"></label>
		<input class="btn btn-block btn-success" value="Установить" onclick="set_speed(this);" type="submit">
      </div>
      <div class="col-sm-6">
       <div class="alert alert-dismissible alert-warning">Установка скорости</div>
      </div>
     </div>	
<!--2	 
	 <hr>
     <h3>Установки погодного сервера</h3>
     <div class="row">
      <div class="col-sm-6">
		<input id="city_code" value="{{city_code}}" pattern="[0-9]{6,6}" class="form-control" placeholder="Код города">
		<input id="w_api" value="{{w_api}}" pattern=".{1,100}" class="form-control" placeholder="API">
		<input class="btn btn-block btn-success" value="Установить" onclick="set_weather(this);" type="submit">
      </div>
      <div class="col-sm-6">
       <div class="alert alert-dismissible alert-warning">Получать погоду для города (введите цифровой код города. Список кодов вы можете посмотреть <a href="http://bulk.openweathermap.org/sample/city.list.json.gz" target="_blank">на этой странице</a>)</div>
      </div>
     </div>	
	 <hr>		 
	<h3>Подключение к Wi-Fi</h3>
     <div class="row">
      <div class="col-sm-6">
		<input id="ssid" value="{{ssid}}" class="form-control" pattern="[0-9a-zA-Z.-]{1,15}" placeholder="Имя WiFi сети">
		<input id="password" value="{{password}}" pattern=".{6,15}" onfocus="this.type='text'" type="password" class="form-control" placeholder="Пароль">
		<input class="btn btn-block btn-success" value="Сохранить" onclick="set_ssid(this);" type="submit">
      </div>
      <div class="col-sm-6">
		<div class="alert alert-dismissible alert-warning"><strong>Пожалуйста подключитесь к своей локальной сети (Wi-Fi).</strong>
		Это позволит управлять часами и получать точное время из Интернет (NTP)
		</div>	 
      </div>
     </div>	
	 <hr>		 	 
     <h3>Точка доступа</h3>
     <div class="row">
      <div class="col-sm-6">
       <input id="ssidap" value="{{ssidAP}}" class="form-control" pattern="[0-9a-zA-Z.-]{1,15}" placeholder="Имя Wi-Fi сети">
       <input id="passwordAp" value="{{passwordAP}}" pattern=".{6,15}" onfocus="this.type='text'" type="password" class="form-control" placeholder="Пароль">
       <input class="btn btn-block btn-success" value="Сохранить" onclick="set_ssid_ap(this);" type="submit">
      </div>
      <div class="col-sm-6">
       <div class="alert alert-dismissible alert-warning">Устройство может создать свою точку доступа к которой можно подключиться через Wi-Fi для управления часами</div>
      </div>
     </div>
     <hr>
	 <h3>Имя устройства (часов) в локальной сети</h3>
     <input id="ssdp" value="{{SSDP}}" class="form-control" pattern="[0-9a-zA-Zа-яА-Я. -]{1,20}" placeholder="Имя устройства">
     <input class="btn btn-block btn-success" value="Сохранить" onclick="set_ssdp(this);" type="submit">
     <hr>
     <h3>Язык</h3>
     <div class="row">
      <div class="col-sm-6">
		<select id="lang_sel" class="form-control">
		<option value="2">English</option>
		<option selected value="1">Български</option>
		<option value="0">Русский</option>
		</select>
       <input class="btn btn-block btn-success" value="Выбрать" onclick="set_lang(this);" type="submit">
      </div>
      <div class="col-sm-6">
       <div class="alert alert-dismissible alert-warning">Выберете язык на котором будут отображаться сообщения на устройстве</div>
      </div>
     </div>
     <hr>	 
     <div class="alert alert-dismissible alert-info">
      <b>Обновление прошивки часов (загрузка файлов .bin)</b>
      <form method="POST" action="/update" enctype="multipart/form-data">
       <div class="btn-group">
        <input type="file" class="btn btn-primary btn-xs" name="update" style="height: 33px;">
        <input type="submit" class="btn btn-default btn-sm" value="загрузить" onclick="this.value='Подождите...';" style="height: 33px;">
       </div>
      </form>
	  <strong><a href="/edit" target="_blank">Загрузка файлов HTML</a></strong>
     </div>
2-->	
	 <hr> 
     <input class="btn btn-block btn-warning" value="Перезагрузить устройство" onclick="restart(this,'Вы действительно хотите перезагрузить устройство?');" type="submit">
     <hr>
	 <a class="btn btn-block btn-default" href="/setting.htm" target="_blank">Страница настроек</a>
    </div>
   </div>
  </div>
 </body>
</html>
