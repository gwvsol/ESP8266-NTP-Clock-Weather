<!DOCTYPE html>
<html lang="ru">
   <head>
      <meta http-equiv="Content-type" content="text/html; charset=utf-8">
      <link rel="stylesheet" href="/bootstrap.min.css">
      <link rel="stylesheet" type="text/css" href="/style.css">
      <script type="text/javascript" src="/function.js"></script>
      <script type="text/javascript" src="/function1.js"></script>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Онлайн часовници/настройки</title>
   </head>
   <body onload="load();">
      <div class="container">
         <div class="row" style="text-align:center;">
            <h2 style="margin-top:50px;">Онлайн часовници</h2>
            <h4>Настройка</h4>
            <div class="col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6">
               <a class="btn btn-block btn-default" href="/">Начало на страницата</a>
               <h4 style="margin-top:25px;">Временна зона</h4>
               <input id="timezone" value="{{timezone}}" pattern="[0-9]{1,3}" class="form-control">
               <input class="btn btn-block btn-success" value="Запази" onclick="time_zone(this);" type="submit">
               <input class="btn btn-block btn-primary" value="Автоматично определяне и записване на часовата зона" onclick="set_time_zone(this);" type="submit">
               <h4 style="margin-top:25px;">Времето на сървъра</h4>
               <input id="ntpserver" value="{{ntpserver}}" pattern="[0-9a-zA-Z.-]{1,500}" class="form-control" placeholder="us.pool.ntp.org">
               <input class="btn btn-block btn-success" value="Запази" onclick="set_ntp_server(this, 'Ще активирате функцията за синхронизиране с NTP');" type="submit">
               <h4 style="margin-top:25px;">Настройка на времето</h4>
               <div class="row" style="margin-bottom:5px;">
                     <div class="col-sm-6">
                        <span class="btn btn-block btn-primary">Година</span>
                        <input id="date_y" value="{{date_y}}" pattern="[0-9]{1,4}" class="form-control">
                        <span class="btn btn-block btn-primary">Месец</span>
                        <input id="date_m" value="{{date_m}}" pattern="[0-9]{1,3}" class="form-control">
                        <span class="btn btn-block btn-primary">Ден</span>
                        <input id="date_d" value="{{date_d}}" pattern="[0-9]{1,3}" class="form-control">
                     </div>
                     <div class="col-sm-6">
                        <span class="btn btn-block btn-primary">Час</span>
                        <input id="time_h" value="{{time_h}}" pattern="[0-9]{1,3}" class="form-control">
                        <span class="btn btn-block btn-primary">Минути</span>
                        <input id="time_m" value="{{time_m}}" pattern="[0-9]{1,3}" class="form-control">
                        <span class="btn btn-block btn-primary">Секунди</span>
                        <input id="time_s" value="{{time_s}}" pattern="[0-9]{1,3}" class="form-control">
                     </div>
               </div>
               <input type="checkbox" id="use_sync" value="{{use_sync}}" class="form-control" onchange="set_ntp(this);" {{use_sync}}>Синхронизира с времето на сървъра<br>
               <input class="btn btn-block btn-success" value="Запази" onclick="set_new_time(this,'Ако активирате функцията за синхронизиране с NTP, тя ще бъде изключена. Задаване на време?');" type="submit">
               <div class="alert alert-dismissible alert-success" style="margin-top:5px;">Ръчна настройка на времето </div>
               <h4 style="margin-top:25px;">Инсталиране на погодного сървър</h4>
               <div class="row" style="margin-bottom:5px;">
                  <div class="col-sm-6">
                     <span class="btn btn-block btn-primary">Код на града</span>
                     <input id="city_id" value="{{city_id}}" pattern="[0-9]{6,6}" class="form-control" placeholder="Код на града">
                  </div>
                  <div class="col-sm-6">
                     <span class="btn btn-block btn-primary">API за времето</span>
                     <input id="w_api" value="{{w_api}}" pattern=".{1,100}" class="form-control" onfocus="this.type='text'" type="password" placeholder="API">
                  </div>
               </div>
               <input type="checkbox" id="use_weather" value="{{use_weather}}" class="form-control" onchange="use_weath(this);" {{use_weather}}>Синхронизиране със сървъра за времето<br>
               <input class="btn btn-block btn-success" value="Запази" onclick="set_weather(this);" type="submit">
               <div class="alert alert-dismissible alert-success" style="margin-top:5px;">
                  <a href="https://openweathermap.org/api" target="_blank">Регистрация на API</a><br>
                  <a href="http://bulk.openweathermap.org/sample/city.list.json.gz" target="_blank">Цифрови кодове градове</a>
               </div>
               <h4>Свързване към Wi-Fi</h4>
               <div class="row" style="margin-bottom:5px;">
                  <div class="col-sm-6">
                     <span class="btn btn-block btn-primary">Името на мрежата</span>
                     <input id="ssid" value="{{ssid}}" class="form-control" pattern="[0-9a-zA-Z.-]{1,15}" placeholder="Името на WiFi мрежата">
                  </div>
                  <div class="col-sm-6">
                     <span class="btn btn-block btn-primary">Паролата на мрежата</span>
                     <input id="password" value="{{password}}" pattern=".{6,15}" onfocus="this.type='text'" type="password" class="form-control" placeholder="Паролата">
                  </div>
               </div>
               <input class="btn btn-block btn-success" value="Запази" onclick="set_ssid(this);" type="submit">
               <div class="alert alert-dismissible alert-success" style="margin-top:5px;">
                     <span><strong>Свързване към Wi-Fi</strong><br>
                        За управление на устройството и получаване на точното време от Интернет</span>
               </div>
               <h4>Точка за достъп до Онлайн часовници</h4>
               <div class="row" style="margin-bottom:5px;">
                  <div class="col-sm-6">
                     <span class="btn btn-block btn-primary">Името на мрежата</span>
                     <input id="ssidap" value="{{ssidAP}}" class="form-control" pattern="[0-9a-zA-Z.-]{1,15}" placeholder="Името на Wi-Fi мрежа">
                  </div>
                  <div class="col-sm-6">
                     <span class="btn btn-block btn-primary">Паролата на мрежата</span>
                     <input id="passwordAp" value="{{passwordAP}}" pattern=".{6,15}" onfocus="this.type='text'" type="password" class="form-control" placeholder="Паролата">
                  </div>
               </div>
               <input class="btn btn-block btn-success" value="Запази" onclick="set_ssid_ap(this);" type="submit">
               <div class="alert alert-dismissible alert-success" style="margin-top:5px;">
                     Вътрешна точка за достъп, към която може да се свърже за управление на устройството</div>
               <h4>Име на устройството</h4>
               <div class="row" style="margin-bottom:5px;">
                  <div class="col-sm-6">
                     <input id="ssdp" value="{{SSDP}}" class="form-control" pattern="[0-9a-zA-Zа-яА-Я. -]{1,20}" placeholder="Име на устройството">
                  </div>
                  <div class="col-sm-6">
                     <input class="btn btn-block btn-success" value="Запази" onclick="set_ssdp(this);" type="submit">
                  </div>
               </div>
               <div class="alert alert-dismissible alert-success">Задаване на име на устройството</div>
               <h4 style="margin-top:25px;">Език</h4>
               <div class="row" style="margin-bottom:5px;">
                  <div class="col-sm-6">
                     <select id="lang_sel" class="form-control">
                        <option selected value="0">Руски</option>
                        <option value="1">Български</option>
                        <option value="2">Английски</option>
                     </select>
                  </div>
                  <div class="col-sm-6">
                        <input class="btn btn-block btn-success" value="Запази" onclick="set_lang(this);" type="submit">
                  </div>
               </div>
               <div class="alert alert-dismissible alert-success">Изберете езика на интерфейса на устройството</div>
               <div class="alert alert-dismissible alert-info">
                     <b>Актуализация на вътрешната програма</b><p style="margin:0px 0px 5px 0px;">(изтегляне bin файл)</p>
                     <form method="POST" action="/update" enctype="multipart/form-data">
                        <div class="btn-group">
                           <input style="padding:5px;" type="file" class="btn btn-primary btn-xs" name="update" style="height: 33px;">
                           <input style="padding:6px;" type="submit" class="btn btn-primary btn-xs" value="изтегли" onclick="this.value='Моля, изчакайте...';" style="height: 33px;">
                        </div>
                     </form>
                     <!-- <strong><a href="/edit" target="_blank">Загрузка файлов HTML</a></strong> -->
               </div>
               <input class="btn btn-block btn-warning" value="Рестартиране" onclick="restart(this,'Наистина ли искате да рестартирате устройството?');" type="submit">
            </div>
         </div>
      </div>
   </body>
   <footer class="footer">
         &copy; 2019, <a href="https://led-lightwell.eu" target="_blank">LIGHTWELL</a>
   </footer>
</html>	
